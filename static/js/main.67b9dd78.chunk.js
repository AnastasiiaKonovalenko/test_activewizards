(this.webpackJsonptest_activewizards=this.webpackJsonptest_activewizards||[]).push([[0],{32:function(e,t,n){e.exports=n(53)},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),u=n.n(c),o=n(11),s=n(4),l=n(13),i=n(29),m=n(8),d=n(21),E=n.n(d),f=n(31),v=n(6),_=Object(l.c)({students:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_STUDENTS_SUCCESS":return t.students;case"DELETE_STUDENT":return e.filter((function(e){return e._id!==t.id}));case"ADD_NEW_STUDENT":return[{name:t.name,email:t.email,isActive:t.isActive,course:t.course,_id:t.id}].concat(Object(m.a)(e));default:return e}},courses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_COURSES_SUCCESS":return t.courses;case"ADD_NEW_COURSE":return[{course:t.course,course_id:t.id}].concat(Object(m.a)(e));case"DELETE_COURSE":return e.filter((function(e){return e.course_id!==t.id}));default:return e}},queryCourse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"CHANGE_QUERY_COURSE"===t.type?t.queryCourse:e},queryStudent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"CHANGE_QUERY_STUDENT"===t.type?t.queryStudent:e},isActiveForm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"FORM_IS_ACTIVE"===t.type?!e:e},isActiveFormCourses:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"FORM_COURSES_IS_ACTIVE"===t.type?!e:e}}),b=Object(l.d)(_,Object(l.a)(i.a)),S=n(12),C=function(){return a.a.createElement("div",null,a.a.createElement("h2",null,"Home"))},p=n(14),g=n.n(p),h=function(e){return e.students},O=function(e){return e.courses},y=function(e){return e.queryCourse},N=function(e){return e.queryStudent},A=function(e){return e.students},j=function(e){return e.courses},D=function(e){return e.isActiveForm},U=function(e){return e.isActiveFormCourses},w={handleDeleteCourse:function(e){return{type:"DELETE_COURSE",id:e}}},T=Object(s.b)((function(e){return{courses:j(e)}}),w)((function(e){var t=e.id,n=e.name,r=e.code,c=e.handleDeleteCourse;return a.a.createElement("div",{className:"table__row"},a.a.createElement("div",{className:"table__ceil"},n),a.a.createElement("div",{className:"table__ceil"},r),a.a.createElement("div",{className:"table__ceil"},a.a.createElement("button",{onClick:function(){return c(t)}},"Delete")))})),F=function(e){var t=e.courses;return a.a.createElement(a.a.Fragment,null,t.map((function(e){return a.a.createElement(T,{name:e.course,code:e.course_id.replace(/_/,""),key:e.course_id,id:e.course_id})})))},R={setQuery:function(e){return{type:"CHANGE_QUERY_COURSE",queryCourse:e}},setIsActiveCoursesForm:function(){return{type:"FORM_COURSES_IS_ACTIVE"}},setNewCourse:function(e,t){return{type:"ADD_NEW_COURSE",course:e,id:t}}},k=Object(s.b)((function(e){return{queryCourse:y(e),courses:e.courses,isActiveFormCourses:U(e)}}),R)((function(e){var t=e.courses,n=e.setQuery,c=e.queryCourse,u=e.setNewCourse,o=e.setIsActiveCoursesForm,s=e.isActiveFormCourses,l=(e.setHasErrorCourse,e.hasErrorCourse,Object(r.useState)("")),i=Object(v.a)(l,2),d=i[0],E=i[1],f=Object(r.useState)(""),_=Object(v.a)(f,2),b=_[0],C=_[1],p=Object(r.useState)(""),h=Object(v.a)(p,2),O=h[0],y=h[1],N=Object(S.g)(),A=Object(S.f)(),j=g()(n,1e3),D=g()((function(){A.push({search:w.toString()})}),1e3),U=c?t.filter((function(e){return e.course.toLowerCase().includes(c.toLowerCase())})):t,w=new URLSearchParams(N.search),T="",R=w.get("sort");T=R?"number"===typeof t[0][R]||"boolean"===typeof t[0][R]?Object(m.a)(U).sort((function(e,t){return(e[R]-t[R])*("asc"===w.get("orderOfSorting")?1:-1)})):Object(m.a)(U).sort((function(e,t){return e[R].localeCompare(t[R])*("asc"===w.get("orderOfSorting")?1:-1)})):U;return a.a.createElement("section",null,s?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:o},"formAdd"),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),b&&O&&u(b,O)}},a.a.createElement("label",{htmlFor:"filter"},a.a.createElement("legend",null,"Course"),a.a.createElement("input",{id:"filter",type:"text",onChange:function(e){return C(e.target.value)},value:b,placeholder:"Write here..."})),a.a.createElement("label",{htmlFor:"code"},a.a.createElement("legend",null,"Code"),a.a.createElement("input",{id:"code",type:"text",onChange:function(e){return y(e.target.value)},placeholder:"Write here...",value:O})),a.a.createElement("input",{type:"submit"}))):a.a.createElement("button",{onClick:o},"formAdd"),a.a.createElement("input",{type:"text",value:d,onChange:function(e){j(e.target.value),E(e.target.value),w.set("query",e.target.value.trim().toLowerCase()),D()}}),a.a.createElement("div",{className:"table"},a.a.createElement("div",{className:"table__row"},a.a.createElement("div",{className:"table__ceil",onClick:function(){return e="course",w.set("sort",e),w.get("sort")===e&&"asc"===w.get("orderOfSorting")?w.set("orderOfSorting","desc"):w.set("orderOfSorting","asc"),void A.push({search:w.toString()});var e}},"Course"),a.a.createElement("div",{className:"table__ceil"},"Code"),a.a.createElement("div",{className:"table__ceil"},"Action")),a.a.createElement(F,{courses:T})))})),L={deleteStu:function(e){return{type:"DELETE_STUDENT",id:e}}},q=Object(s.b)((function(e){return{students:A(e)}}),L)((function(e){var t=e.id,n=e.name,r=e.email,c=e.status,u=e.course,o=e.deleteStu;return a.a.createElement("div",{className:"table__row"},a.a.createElement("div",{className:"table__ceil"},n),a.a.createElement("div",{className:"table__ceil"},r),a.a.createElement("div",{className:"table__ceil"},c?"Active":"Inactive"),a.a.createElement("div",{className:"table__ceil"},u),a.a.createElement("div",{className:"table__ceil"},a.a.createElement("button",{onClick:function(){o(t)}},"Delete")))})),I=function(e){var t=e.students;return a.a.createElement(a.a.Fragment,null,t.map((function(e){return a.a.createElement(q,{name:e.name,email:e.email,status:e.isActive,course:e.course,id:e._id,key:e._id})})))},x=(n(51),{setQuery:function(e){return{type:"CHANGE_QUERY_STUDENT",queryStudent:e}},setNewStudent:function(e,t,n,r){return{type:"ADD_NEW_STUDENT",name:e,email:t,isActive:n,course:r,id:"_"+Math.random().toString(36).substr(2,9)}},setIsActiveForm:function(){return{type:"FORM_IS_ACTIVE"}}}),W=Object(s.b)((function(e){return{queryStudent:N(e),students:e.students,isActiveForm:D(e)}}),x)((function(e){var t=e.students,n=e.queryStudent,c=e.setQuery,u=e.setNewStudent,o=e.isActiveForm,s=e.setIsActiveForm,l=Object(r.useState)(""),i=Object(v.a)(l,2),d=i[0],E=i[1],f=Object(r.useState)(""),_=Object(v.a)(f,2),b=_[0],C=_[1],p=Object(r.useState)(""),h=Object(v.a)(p,2),O=h[0],y=h[1],N=Object(r.useState)(""),A=Object(v.a)(N,2),j=A[0],D=A[1],U=Object(r.useState)(""),w=Object(v.a)(U,2),T=w[0],F=w[1],R=Object(S.g)(),k=Object(S.f)(),L=g()(c,1e3),q=n?t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):t,x=new URLSearchParams(R.search),W="",Q=x.get("sort");W=Q?"number"===typeof t[0][Q]||"boolean"===typeof t[0][Q]?Object(m.a)(q).sort((function(e,t){return(e[Q]-t[Q])*("asc"===x.get("orderOfSorting")?1:-1)})):Object(m.a)(q).sort((function(e,t){return e[Q].localeCompare(t[Q])*("asc"===x.get("orderOfSorting")?1:-1)})):q;var H=g()((function(){k.push({search:x.toString()})}),1e3),M=function(e){x.set("sort",e),x.get("sort")===e&&"asc"===x.get("orderOfSorting")?x.set("orderOfSorting","desc"):x.set("orderOfSorting","asc"),k.push({search:x.toString()})};return a.a.createElement("section",null,o?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:s},"formAdd"),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),b&&O&&j&&T&&u(b,O,j,T)}},a.a.createElement("label",null,"Name",a.a.createElement("input",{type:"text",onChange:function(e){return C(e.target.value)},value:b,placeholder:"Write here..."})),a.a.createElement("label",null,"Email",a.a.createElement("input",{type:"email",onChange:function(e){return y(e.target.value)},placeholder:"Write here...",value:O})),a.a.createElement("label",null,"Status",a.a.createElement("input",{onChange:function(e){return D(e.target.value)},value:j,type:"text",placeholder:"Write here..."})),a.a.createElement("label",null,"Course",a.a.createElement("input",{onChange:function(e){return F(e.target.value)},value:T,type:"text",placeholder:"Write here..."})),a.a.createElement("input",{type:"submit"}))):a.a.createElement("button",{onClick:s},"formAdd"),a.a.createElement("input",{type:"text",value:d,onChange:function(e){L(e.target.value),E(e.target.value),x.set("query",e.target.value.trim().toLowerCase()),H()}}),a.a.createElement("div",{className:"table"},a.a.createElement("div",{className:"table__row"},a.a.createElement("div",{onClick:function(){return M("name")},className:"table__ceil"},"Name"),a.a.createElement("div",{onClick:function(){return M("email")},className:"table__ceil"},"Email"),a.a.createElement("div",{onClick:function(){return M("isActive")},className:"table__ceil"},"Status"),a.a.createElement("div",{onClick:function(){return M("course")},className:"table__ceil"},"Course"),a.a.createElement("div",{className:"table__ceil"},"Action")),a.a.createElement(I,{students:W})))}));n(52);var Q={loadStudentsAndCourses:function(){return function(e){var t,n,r,a;return E.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,E.a.awrap(Promise.all([fetch("https://api.myjson.com/bins/lhxgm").then((function(e){return e.json()})).catch((function(){return"Something wrong"})),fetch("https://api.myjson.com/bins/1gocva").then((function(e){return e.json()})).catch((function(){return"Something wrong"}))]));case 2:t=c.sent,n=Object(v.a)(t,2),r=n[0],a=n[1],e({type:"LOAD_STUDENTS_SUCCESS",students:r.map((function(e){return Object(f.a)({},e,{course:a.find((function(t){return t.course_id===e.course__id})).course,name:"".concat(e.name.first," ").concat(e.name.last," ")})}))}),e({type:"LOAD_COURSES_SUCCESS",courses:a});case 8:case"end":return c.stop()}}))}}},H=Object(s.b)((function(e){return{students:h(e),courses:O(e)}}),Q)((function(e){var t=e.loadStudentsAndCourses,n=e.students,c=e.courses;return Object(r.useEffect)((function(){t()}),[]),a.a.createElement("section",null,a.a.createElement("div",null,a.a.createElement("nav",null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(o.b,{to:"/",className:"nav__link"},"Home")),a.a.createElement("li",null,a.a.createElement(o.b,{to:"/courses",className:"nav__link",courses:c},"Courses")),a.a.createElement("li",null,a.a.createElement(o.b,{to:"/students",className:"nav__link"},"Students")))),a.a.createElement(S.c,null,a.a.createElement(S.a,{exact:!0,path:"/"},a.a.createElement(C,null)),a.a.createElement(S.a,{path:"/courses"},a.a.createElement(k,{courses:c})),a.a.createElement(S.a,{path:"/students"},a.a.createElement(W,{students:n})))))}));u.a.render(a.a.createElement(s.a,{store:b},a.a.createElement(o.a,{basename:"/path"},a.a.createElement(H,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.67b9dd78.chunk.js.map